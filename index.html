<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Diwali Gift for You!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>Click the box to open your Diwali surprise!</h1>
        <div id="giftBox" class="gift-box">
            <div class="box-top"></div>
            <div class="box-body"></div>
            <div class="ribbon"></div>
            <div class="bow-center"></div>
        </div>
        <p id="timerDisplay" class="hidden">Opening in: 3...</p>
    </div>

    <script>
        const giftBox = document.getElementById('giftBox');
        const timerDisplay = document.getElementById('timerDisplay');
        const explosionClass = 'exploding';
        let countdown = 3;
        let isClicked = false;

        giftBox.addEventListener('click', () => {
            if (isClicked) return; // Prevent multiple clicks
            isClicked = true;

            // 1. Start the visual timer
            timerDisplay.classList.remove('hidden');
            timerDisplay.textContent = `Opening in: ${countdown}...`;

            // 2. Add a visual shake/animation to the box
            giftBox.classList.add('shaking');

            // 3. Set up the countdown interval
            const timerInterval = setInterval(() => {
                countdown--;
                timerDisplay.textContent = `Opening in: ${countdown}...`;

                if (countdown <= 0) {
                    clearInterval(timerInterval);
                    
                    // 4. Explosion effect
                    giftBox.classList.remove('shaking');
                    giftBox.classList.add(explosionClass);
                    timerDisplay.textContent = "BOOM!";
                    
                    // 5. Wait a moment for the explosion animation to run, then redirect
                    setTimeout(() => {
                        window.location.href = 'fireworks.html';
                    }, 500); // 0.5 seconds for the explosion animation
                }
            }, 1000); // 1000ms = 1 second
        });
    </script>
</body>
</html>